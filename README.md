<!-- 














  ** DO NOT EDIT THIS FILE
  ** 
  ** This file was automatically generated by the `build-harness`. 
  ** 1) Make all changes to `README.yaml` 
  ** 2) Run `make init` (you only need to do this once)
  ** 3) Run`make readme` to rebuild this file. 
  **
  ** (We maintain HUNDREDS of open source projects. This is how we maintain our sanity.)
  **















  -->

#

[![README Header][logo]][website]

# tf-mod-helm

## Module description


A Terraform Module for using the Helm provider. This is used to deploy software packages in Kubernetes. The provider needs to be configured with the proper credentials before it can be used.




Project: **[%!s(<nil>)](%!s(<nil>))** : [[%!s(<nil>)](%!s(<nil>))] | [[%!s(<nil>)](%!s(<nil>))] 




## Introduction

The module provisions the following resources:
  - `helm_release` describes the desired status of a chart in a kubernetes cluster.
    - A Release is an instance of a chart running in a Kubernetes cluster. A Chart is a Helm package. It contains all of the resource definitions necessary to run an application, tool, or service inside of a Kubernetes cluster.
  - `helm_repository` describes a helm repository.
    - A chart repository is a location where packaged charts can be stored and shared.

**IMPORTANT:** 
  - The module has many flags and arugments to pass as variables for the `helm_release`, and `helm_repository`. Please check the `variables.tf` in this repository for more information.



## Usage

**IMPORTANT:** The `master` branch is used in `source` just as an example. In your code, do not pin to `master` because there may be breaking changes between releases.
Instead pin to the release tag (e.g. `?ref=tags/x.y.z`) of one of our [latest releases](https://github.com/https://github.com/Callumccr/tf-mod-helm/releases).


The below values shown in the usage of this module are purely representative, please replace desired values as required.
```hcl
module "tf-mod-helm" {
  source                      = "git::https://github.com/Callumccr/tf-mod-helm.git?ref=master"
  enabled                     = true
  chart_repository_name       = "stable"
  chart_repository_url        = "https://kubernetes-charts.storage.googleapis.com"
  chart                       = "redis"
  version                     = "6.0.1"
  values                      = [
                                  "${file("values.yaml")}"
                                ]
  set                         = [
                                  {
                                    name  = "cluster.enabled"
                                    value = "true"
                                  },
                                  {
                                    name  = "metrics.enabled"
                                    value = "true"
                                  }
                                ]
  set_string                  = [
                                  {
                                    name  = "service.annotations.prometheus\\.io/port"
                                    value = "9127"
                                  }
                                ]
  set_sensitive               = [
                                  {
                                    name  = "username"
                                    value = "password"
                                  }
                                ]
}
```





## Examples
### Advanced Example 1

The following example generates a EKS managed node group and deploys and annotates pods with a helm chart to deploy into those respective workers exclusively.

TO-DO

```hcl
```


## Providers

| Name | Version |
|------|---------|
| helm | v0.10.4 |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:-----:|
| aws\_account\_id | The AWS account id of the provider being deployed to (e.g. 12345678). Autoloaded from account.tfvars | `string` | `""` | no |
| aws\_assume\_role\_arn | ARN of the IAM role when optionally connecting to AWS via assumed role. Autoloaded from account.tfvars. | `string` | `""` | no |
| aws\_region | The AWS region (e.g. ap-southeast-2). Autoloaded from region.tfvars. | `string` | `""` | no |
| ca\_file | (Optional) Verify certificates of HTTPS-enabled servers using this CA bundle | `string` | `""` | no |
| cert\_file | (Optional) Identify HTTPS client using this SSL certificate file | `string` | `""` | no |
| chart | (Required) Chart name to be installed | `string` | `""` | no |
| chart\_repository\_name | (Required) Chart repository name | `string` | `""` | no |
| chart\_repository\_url | (Required) Chart repository URL. | `string` | `""` | no |
| chart\_version | (Optional) Specify the exact chart version to install. If this is not specified, the latest version is installed | `string` | `"1.8.4"` | no |
| devel | (Optional) Use chart development versions, too. Equivalent to version '>0.0.0-0'. If version is set, this is ignored | `bool` | `false` | no |
| disable\_webhooks | (Optional) Prevent hooks from running | `bool` | `false` | no |
| enabled | (Optional). A Switch that decides whether to create the module. Default is true | `bool` | `true` | no |
| force\_update | (Optional) Force resource update through delete/recreate if needed | `bool` | `true` | no |
| k8s\_namespace | (Optional) Namespace to install the release into | `string` | `""` | no |
| key\_file | (Optional) Identify HTTPS client using this SSL key file | `string` | `""` | no |
| keyring | (Optional) Location of public keys used for verification | `string` | `""` | no |
| kubeconfig\_context | (Required) The context to use from the `kubeconfig` file | `string` | `""` | no |
| kubeconfig\_path | The path to `kubeconfig` file | `string` | `"~/.kube/config"` | no |
| password | (Optional) Password for HTTP basic authentication | `string` | `""` | no |
| recreate\_pods | (Optional) On update performs pods restart for the resource if applicable | `bool` | `false` | no |
| release\_name | (Required) Release name | `string` | `""` | no |
| repository | (Optional) Repository where to locate the requested chart. If is an URL the chart is installed without install the repository | `string` | `""` | no |
| reuse\_values | (Optional) Reuse values from previous revision when upgrading a release. Same as --reuse-values flag in Helm CLI. Default is false | `bool` | `false` | no |
| set | (Optional) Value block with custom values to be merged with the values yaml | <code><pre>list(object({<br>    name  = string<br>    value = string<br>  }))<br></pre></code> | <code><pre>[<br>  {<br>    "name": "",<br>    "value": ""<br>  }<br>]<br></pre></code> | no |
| set\_sensitive | (Optional) Value block with custom sensitive values to be merged with the values yaml that won't be exposed in the plan's diff | <code><pre>list(object({<br>    name  = string<br>    value = string<br>  }))<br></pre></code> | <code><pre>[<br>  {<br>    "name": "",<br>    "value": ""<br>  }<br>]<br></pre></code> | no |
| set\_string | (Optional) Value block with custom STRING values to be merged with the values yaml | <code><pre>list(object({<br>    name  = string<br>    value = string<br>  }))<br></pre></code> | <code><pre>[<br>  {<br>    "name": "",<br>    "value": ""<br>  }<br>]<br></pre></code> | no |
| timeout | (Optional) Time in seconds to wait for any individual kubernetes operation | `number` | `30` | no |
| username | (Optional) Username for HTTP basic authentication | `string` | `""` | no |
| values | (Optional) List of values in raw yaml to pass to helm. Values will be merged, in order, as Helm does with multiple -f options | `list(any)` | `[]` | no |
| verify | (Optional) Verify the package before installing it | `bool` | `false` | no |
| wait | (Optional) Will wait until all Pods, PVCs, Services, and minimum number of Pods of a Deployment are in a ready state before marking the release as successful. It will wait for as long as timeout. Default is true | `bool` | `false` | no |

## Outputs

No output.




## Related Projects

You can find more [Terraform Modules](terraform_modules) by vising the link.

Additionally, check out these other related, and maintained projects.

- [%!s(<nil>)](%!s(<nil>)) - %!s(<nil>)



## References

For additional context, refer to some of these links. 

- [Helm Provider For Terraform](https://www.terraform.io/docs/providers/helm/index.html) - The Helm provider is used to deploy software packages in Kubernetes



## Help

**Got a question?** We got answers. 

File a Github [issue](https://github.com/Callumccr/tf-mod-helm/issues), or message us on [Slack][slack]


### Contributors

|  [![Callum Robertson][callumccr_avatar]][callumccr_homepage]<br/>[Callum Robertson][callumccr_homepage] |
|---|


  [callumccr_homepage]: https://www.linkedin.com/in/callum-robertson-1a55b6110/

  [callumccr_avatar]: https://media-exp1.licdn.com/dms/image/C5603AQHb_3oZMZA5YA/profile-displayphoto-shrink_200_200/0?e=1588809600&v=beta&t=5QQQAlHrm1od5fQNZwdjOtbZWvsGcgNBqFRhZWgnPx4




---



---


[![README Footer][logo]][website]

  [logo]: https://wariva-github-assets.s3.eu-west-2.amazonaws.com/logo.png
  [website]: https://www.linkedin.com/company/52152765/admin/
  [github]: https://github.com/Callumccr
  [slack]: https://wariva.slack.com
  [linkedin]: https://www.linkedin.com/in/callum-robertson-1a55b6110/
  [terraform_modules]: https://github.com/Callumccr